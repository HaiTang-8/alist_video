# AList Player

<div align="center">
  <img src="assets/icon/1024_logo.png" alt="AList Player Logo" width="128" height="128">

  <h3>åŸºäº AList çš„è·¨å¹³å°è§†é¢‘æ’­æ”¾å™¨</h3>

  <p>
    <strong>æ”¯æŒè¿›åº¦ä¿å­˜ã€å†å²æµè§ˆè®°å½•çš„ä¸“ä¸šåª’ä½“æ’­æ”¾åº”ç”¨</strong>
  </p>

  <p>
    <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
    <a href="#å®‰è£…è¯´æ˜">å®‰è£…è¯´æ˜</a> â€¢
    <a href="#ä½¿ç”¨æŒ‡å—">ä½¿ç”¨æŒ‡å—</a> â€¢
    <a href="#æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„</a> â€¢
    <a href="#å¼€å‘æŒ‡å—">å¼€å‘æŒ‡å—</a>
  </p>
</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

AList Player æ˜¯ä¸€æ¬¾åŸºäº [AList](https://alist.nn.ci/) çš„è·¨å¹³å°è§†é¢‘æ’­æ”¾å™¨ï¼Œä½¿ç”¨ Flutter å¼€å‘ï¼Œæ”¯æŒ Androidã€iOSã€Windowsã€macOSã€Linux å’Œ Web å¹³å°ã€‚è¯¥åº”ç”¨ä¸“ä¸ºåª’ä½“æ–‡ä»¶ç®¡ç†å’Œæ’­æ”¾è€Œè®¾è®¡ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒã€‚

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

- **ğŸ”— AList é›†æˆ**: å®Œç¾é›†æˆ AList æ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å­˜å‚¨åç«¯
- **ğŸ“± è·¨å¹³å°æ”¯æŒ**: ä¸€å¥—ä»£ç ï¼Œæ”¯æŒæ‰€æœ‰ä¸»æµå¹³å°
- **ğŸ¬ ä¸“ä¸šæ’­æ”¾**: åŸºäº media_kit çš„é«˜æ€§èƒ½è§†é¢‘æ’­æ”¾å¼•æ“
- **ğŸ’¾ æ™ºèƒ½è®°å¿†**: è‡ªåŠ¨ä¿å­˜æ’­æ”¾è¿›åº¦å’Œå†å²è®°å½•
- **ğŸ¨ ç°ä»£ç•Œé¢**: Material Design 3 è®¾è®¡è¯­è¨€ï¼Œç•Œé¢ç¾è§‚æ˜“ç”¨
- **âš¡ é«˜æ€§èƒ½**: ç¡¬ä»¶åŠ é€Ÿè§£ç ï¼Œæ”¯æŒ 4K/8K è§†é¢‘æ’­æ”¾

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¥ åª’ä½“æ’­æ”¾
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒå‡ ä¹æ‰€æœ‰ä¸»æµè§†é¢‘å’ŒéŸ³é¢‘æ ¼å¼
- **ç¡¬ä»¶åŠ é€Ÿ**: GPU åŠ é€Ÿè§£ç ï¼Œæµç•…æ’­æ”¾é«˜æ¸…è§†é¢‘
- **æ’­æ”¾æ§åˆ¶**: å®Œæ•´çš„æ’­æ”¾æ§åˆ¶åŠŸèƒ½ï¼ˆæ’­æ”¾/æš‚åœ/å¿«è¿›/å¿«é€€/éŸ³é‡è°ƒèŠ‚ï¼‰
- **å­—å¹•æ”¯æŒ**: æ”¯æŒå†…åµŒå­—å¹•å’Œå¤–æŒ‚å­—å¹•æ–‡ä»¶
- **æ’­æ”¾åˆ—è¡¨**: æ”¯æŒæ’­æ”¾åˆ—è¡¨ç®¡ç†å’Œè¿ç»­æ’­æ”¾
- **å€é€Ÿæ’­æ”¾**: æ”¯æŒ 0.25x - 4x å€é€Ÿæ’­æ”¾

### ğŸ“š æ–‡ä»¶ç®¡ç†
- **AList é›†æˆ**: ç›´æ¥è®¿é—® AList ç®¡ç†çš„æ–‡ä»¶ç³»ç»Ÿ
- **å¤šå­˜å‚¨æ”¯æŒ**: æ”¯æŒæœ¬åœ°å­˜å‚¨ã€äº‘å­˜å‚¨ç­‰å¤šç§å­˜å‚¨åç«¯
- **æ–‡ä»¶æµè§ˆ**: ç›´è§‚çš„æ–‡ä»¶æµè§ˆç•Œé¢ï¼Œæ”¯æŒæ–‡ä»¶å¤¹å¯¼èˆª
- **æœç´¢åŠŸèƒ½**: å¿«é€Ÿæœç´¢æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
- **æ”¶è—å¤¹**: æ”¶è—å¸¸ç”¨æ–‡ä»¶å¤¹ï¼Œå¿«é€Ÿè®¿é—®
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡é€‰æ‹©å’Œæ“ä½œæ–‡ä»¶

### ğŸ’¾ æ•°æ®ç®¡ç†
- **æ’­æ”¾è¿›åº¦**: è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤æ’­æ”¾è¿›åº¦
- **å†å²è®°å½•**: å®Œæ•´çš„æ’­æ”¾å†å²è®°å½•ç®¡ç†
- **æ•°æ®åº“æ”¯æŒ**: ä½¿ç”¨ PostgreSQL å­˜å‚¨ç”¨æˆ·æ•°æ®
- **æ•°æ®åŒæ­¥**: æ”¯æŒå¤šè®¾å¤‡é—´æ•°æ®åŒæ­¥
- **é…ç½®ç®¡ç†**: çµæ´»çš„ API é…ç½®å’Œæ•°æ®åº“é…ç½®ç®¡ç†

### ğŸ”§ é«˜çº§åŠŸèƒ½
- **ä¸‹è½½ç®¡ç†**: æ”¯æŒæ–‡ä»¶ä¸‹è½½å’Œç¦»çº¿æ’­æ”¾
- **é…ç½®æœåŠ¡å™¨**: å†…ç½®é…ç½®æœåŠ¡å™¨ï¼Œä¾¿äºè®¾å¤‡é—´é…ç½®åŒæ­¥
- **æ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„æ—¥å¿—è®°å½•å’Œé”™è¯¯è¿½è¸ª
- **ä¸»é¢˜å®šåˆ¶**: æ”¯æŒä¸»é¢˜å®šåˆ¶å’Œç•Œé¢ä¸ªæ€§åŒ–
- **å¿«æ·é”®**: ä¸°å¯Œçš„é”®ç›˜å¿«æ·é”®æ”¯æŒï¼ˆæ¡Œé¢å¹³å°ï¼‰

## ğŸš€ å®‰è£…è¯´æ˜

### ç³»ç»Ÿè¦æ±‚

| å¹³å° | æœ€ä½ç‰ˆæœ¬ | æ¨èç‰ˆæœ¬ |
|------|----------|----------|
| Android | 5.0 (API 21) | 8.0+ |
| iOS | 9.0 | 12.0+ |
| Windows | Windows 7 | Windows 10+ |
| macOS | 10.9 | 11.0+ |
| Linux | ä»»ä½•ç°ä»£å‘è¡Œç‰ˆ | Ubuntu 20.04+ |
| Web | ä»»ä½•ç°ä»£æµè§ˆå™¨ | Chrome 90+ |

### é¢„ç¼–è¯‘ç‰ˆæœ¬

1. è®¿é—® [Releases](../../releases) é¡µé¢
2. ä¸‹è½½é€‚åˆæ‚¨å¹³å°çš„å®‰è£…åŒ…
3. æŒ‰ç…§å¹³å°è¯´æ˜è¿›è¡Œå®‰è£…

### ä»æºç æ„å»º

#### ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£… Flutter SDK (>= 3.4.1)
git clone https://github.com/flutter/flutter.git
export PATH="$PATH:`pwd`/flutter/bin"

# éªŒè¯ç¯å¢ƒ
flutter doctor
```

#### æ„å»ºæ­¥éª¤

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd webdav_video

# å®‰è£…ä¾èµ–
flutter pub get

# ç”Ÿæˆåº”ç”¨å›¾æ ‡
flutter pub run flutter_launcher_icons

# æ„å»ºåº”ç”¨
flutter build <platform>
```

#### å¹³å°ç‰¹å®šæ„å»º

```bash
# Android
flutter build apk --release
flutter build appbundle --release

# iOS
flutter build ios --release

# Windows
flutter build windows --release

# macOS
flutter build macos --release

# Linux
flutter build linux --release

# Web
flutter build web --release
```

## ğŸ“± ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡é…ç½®

1. **å¯åŠ¨åº”ç”¨**: é¦–æ¬¡å¯åŠ¨ä¼šæ˜¾ç¤ºç™»å½•ç•Œé¢
2. **API é…ç½®**: ç‚¹å‡»"API è®¾ç½®"é…ç½® AList æœåŠ¡å™¨åœ°å€
3. **æ•°æ®åº“é…ç½®**: ç‚¹å‡»"æ•°æ®åº“è®¾ç½®"é…ç½® PostgreSQL è¿æ¥ï¼ˆå¯é€‰ï¼‰
4. **ç™»å½•**: è¾“å…¥ AList ç”¨æˆ·åå’Œå¯†ç ç™»å½•

### åŸºæœ¬æ“ä½œ

#### æ–‡ä»¶æµè§ˆ
- ç‚¹å‡»æ–‡ä»¶å¤¹è¿›å…¥å­ç›®å½•
- ç‚¹å‡»è§†é¢‘æ–‡ä»¶å¼€å§‹æ’­æ”¾
- ä½¿ç”¨é¢åŒ…å±‘å¯¼èˆªå¿«é€Ÿè¿”å›ä¸Šçº§ç›®å½•
- ç‚¹å‡»æœç´¢å›¾æ ‡æœç´¢æ–‡ä»¶

#### è§†é¢‘æ’­æ”¾
- å•å‡»å±å¹•æ˜¾ç¤º/éšè—æ§åˆ¶æ 
- åŒå‡»å±å¹•åˆ‡æ¢å…¨å±æ¨¡å¼
- æ‹–æ‹½è¿›åº¦æ¡è°ƒæ•´æ’­æ”¾ä½ç½®
- ä½¿ç”¨éŸ³é‡å’Œäº®åº¦æ‰‹åŠ¿æ§åˆ¶

#### æ’­æ”¾åˆ—è¡¨
- æ’­æ”¾è§†é¢‘æ—¶è‡ªåŠ¨ç”Ÿæˆæ’­æ”¾åˆ—è¡¨
- ç‚¹å‡»æ’­æ”¾åˆ—è¡¨ä¸­çš„é¡¹ç›®åˆ‡æ¢è§†é¢‘
- æ”¯æŒä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªå¿«é€Ÿåˆ‡æ¢
- æ”¯æŒæ’­æ”¾æ¨¡å¼è®¾ç½®ï¼ˆé¡ºåº/å¾ªç¯/éšæœºï¼‰

### é«˜çº§åŠŸèƒ½

#### æ”¶è—å¤¹ç®¡ç†
1. åœ¨æ–‡ä»¶æµè§ˆç•Œé¢ç‚¹å‡»æ˜Ÿå½¢å›¾æ ‡
2. æ·»åŠ å½“å‰ç›®å½•åˆ°æ”¶è—å¤¹
3. åœ¨ä¸»ç•Œé¢å¿«é€Ÿè®¿é—®æ”¶è—çš„ç›®å½•

#### ä¸‹è½½ç®¡ç†
1. é•¿æŒ‰æ–‡ä»¶é€‰æ‹©ä¸‹è½½
2. åœ¨ä¸‹è½½ç®¡ç†ç•Œé¢æŸ¥çœ‹ä¸‹è½½è¿›åº¦
3. ä¸‹è½½å®Œæˆåå¯ç¦»çº¿æ’­æ”¾

#### å†å²è®°å½•
- è‡ªåŠ¨è®°å½•æ’­æ”¾å†å²
- åœ¨å†å²è®°å½•ç•Œé¢æŸ¥çœ‹å’Œç®¡ç†
- æ”¯æŒæ¸…é™¤å†å²è®°å½•

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Flutter | 3.4.1+ | è·¨å¹³å° UI æ¡†æ¶ |
| Dart | 3.0+ | ç¼–ç¨‹è¯­è¨€ |
| media_kit | 1.2.0+ | åª’ä½“æ’­æ”¾å¼•æ“ |
| PostgreSQL | - | æ•°æ®å­˜å‚¨ |
| Dio | 5.7.0+ | HTTP å®¢æˆ·ç«¯ |

### é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ apis/           # API æ¥å£å±‚
â”œâ”€â”€ constants/      # å¸¸é‡å®šä¹‰
â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”œâ”€â”€ services/       # ä¸šåŠ¡æœåŠ¡å±‚
â”œâ”€â”€ utils/          # å·¥å…·ç±»
â”œâ”€â”€ views/          # ç•Œé¢å±‚
â”œâ”€â”€ widgets/        # è‡ªå®šä¹‰ç»„ä»¶
â””â”€â”€ main.dart       # åº”ç”¨å…¥å£

assets/
â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶
â”œâ”€â”€ fonts/          # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ icon/           # åº”ç”¨å›¾æ ‡
â””â”€â”€ images/         # å›¾ç‰‡èµ„æº
```

### æ ¸å¿ƒç»„ä»¶

#### åª’ä½“æ’­æ”¾å¼•æ“
- åŸºäº `media_kit` çš„è·¨å¹³å°æ’­æ”¾å¼•æ“
- æ”¯æŒç¡¬ä»¶åŠ é€Ÿå’Œè½¯ä»¶è§£ç 
- å®Œæ•´çš„æ’­æ”¾çŠ¶æ€ç®¡ç†å’Œäº‹ä»¶å¤„ç†

#### æ•°æ®ç®¡ç†å±‚
- PostgreSQL æ•°æ®åº“å­˜å‚¨ç”¨æˆ·æ•°æ®
- SharedPreferences å­˜å‚¨åº”ç”¨é…ç½®
- å®Œæ•´çš„æ•°æ®è¿ç§»å’Œç‰ˆæœ¬ç®¡ç†

#### ç½‘ç»œå±‚
- åŸºäº Dio çš„ HTTP å®¢æˆ·ç«¯
- æ”¯æŒè¯·æ±‚æ‹¦æˆªå’Œå“åº”å¤„ç†
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

#### é…ç½®ç®¡ç†
- çµæ´»çš„ API é…ç½®é¢„è®¾ç³»ç»Ÿ
- æ•°æ®åº“è¿æ¥é…ç½®ç®¡ç†
- åº”ç”¨è®¾ç½®å’Œç”¨æˆ·åå¥½ç®¡ç†

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. **å®‰è£… Flutter SDK**
   ```bash
   # ä¸‹è½½å¹¶å®‰è£… Flutter SDK
   # é…ç½®ç¯å¢ƒå˜é‡
   export PATH="$PATH:/path/to/flutter/bin"
   ```

2. **IDE é…ç½®**
   - æ¨èä½¿ç”¨ VS Code æˆ– Android Studio
   - å®‰è£… Flutter å’Œ Dart æ’ä»¶
   - é…ç½®ä»£ç æ ¼å¼åŒ–å’Œ lint è§„åˆ™

3. **ä¾èµ–å®‰è£…**
   ```bash
   flutter pub get
   ```

### ä»£ç è§„èŒƒ

#### å‘½åè§„èŒƒ
- æ–‡ä»¶åï¼šä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”çš„å°å†™å­—æ¯
- ç±»åï¼šä½¿ç”¨ PascalCase
- å˜é‡å’Œæ–¹æ³•ï¼šä½¿ç”¨ camelCase
- å¸¸é‡ï¼šä½¿ç”¨ UPPER_SNAKE_CASE

#### ä»£ç ç»„ç»‡
- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
- ä½¿ç”¨ barrel exports ç®€åŒ–å¯¼å…¥
- ä¿æŒæ–‡ä»¶å¤§å°é€‚ä¸­ï¼ˆ< 500 è¡Œï¼‰

#### æ³¨é‡Šè§„èŒƒ
```dart
/// æ’­æ”¾å™¨æ§åˆ¶å™¨
///
/// è´Ÿè´£ç®¡ç†è§†é¢‘æ’­æ”¾çŠ¶æ€å’Œç”¨æˆ·äº¤äº’
class PlayerController {
  /// æ’­æ”¾æŒ‡å®šçš„åª’ä½“æ–‡ä»¶
  ///
  /// [media] è¦æ’­æ”¾çš„åª’ä½“å¯¹è±¡
  /// [autoPlay] æ˜¯å¦è‡ªåŠ¨å¼€å§‹æ’­æ”¾
  Future<void> play(Media media, {bool autoPlay = true}) async {
    // å®ç°ä»£ç 
  }
}
```

### æµ‹è¯•æŒ‡å—

#### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
flutter test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
flutter test test/unit/player_test.dart

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
flutter test --coverage
```

#### é›†æˆæµ‹è¯•
```bash
# è¿è¡Œé›†æˆæµ‹è¯•
flutter test integration_test/
```

#### æ€§èƒ½æµ‹è¯•
```bash
# æ€§èƒ½åˆ†æ
flutter run --profile
```

### æ„å»ºå’Œå‘å¸ƒ

#### ç‰ˆæœ¬ç®¡ç†
1. æ›´æ–° `pubspec.yaml` ä¸­çš„ç‰ˆæœ¬å·
2. æ›´æ–° `CHANGELOG.md`
3. åˆ›å»º Git æ ‡ç­¾

#### å‘å¸ƒæµç¨‹
```bash
# 1. ä»£ç æ£€æŸ¥
flutter analyze
flutter test

# 2. æ„å»ºå‘å¸ƒç‰ˆæœ¬
flutter build apk --release
flutter build appbundle --release

# 3. ç­¾åå’Œå‘å¸ƒ
# æŒ‰ç…§å„å¹³å°è¦æ±‚è¿›è¡Œç­¾åå’Œå‘å¸ƒ
```

### è´¡çŒ®æŒ‡å—

1. **Fork é¡¹ç›®**
2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/new-feature
   ```
3. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m "Add new feature"
   ```
4. **æ¨é€åˆ†æ”¯**
   ```bash
   git push origin feature/new-feature
   ```
5. **åˆ›å»º Pull Request**

### è°ƒè¯•æŠ€å·§

#### æ—¥å¿—è°ƒè¯•
```dart
import 'package:alist_player/utils/logger.dart';

// è®°å½•è°ƒè¯•ä¿¡æ¯
await AppLogger().debug('Player', 'Starting playback');

// è®°å½•é”™è¯¯ä¿¡æ¯
await AppLogger().error('Player', 'Playback failed: $error');
```

#### æ€§èƒ½è°ƒè¯•
```bash
# å¯ç”¨æ€§èƒ½ç›‘æ§
flutter run --profile

# ä½¿ç”¨ Flutter Inspector
flutter inspector
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

## ğŸ“ æ”¯æŒ

- ğŸ› [æŠ¥å‘Šé—®é¢˜](../../issues)
- ğŸ’¡ [åŠŸèƒ½å»ºè®®](../../issues)
- ğŸ“§ [è”ç³»æˆ‘ä»¬](mailto:support@example.com)
- ğŸ“– [æ–‡æ¡£](../../wiki)

## ğŸ™ è‡´è°¢

- [AList](https://alist.nn.ci/) - ä¼˜ç§€çš„æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
- [media_kit](https://github.com/media-kit/media-kit) - å¼ºå¤§çš„åª’ä½“æ’­æ”¾å¼•æ“
- [Flutter](https://flutter.dev/) - è·¨å¹³å° UI æ¡†æ¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸</p>
  <p>Made with â¤ï¸ by AList Player Team</p>
</div>
